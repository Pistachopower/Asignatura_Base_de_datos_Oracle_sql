/*
BEFORE: ANTES DE EJECUTAR EL COMANDO
AFTER: DESPUES DE EJECUTAR EL COMANDO
*/

CREATE OR REPLACE TRIGGER T_NOMBRE_TRIGGER
--[BEFORE/ AFTER]
[INSERT | UPDATE | DELETE] OF COLUMNA_TABLA OR [INSERT | UPDATE | DELETE] OF COLUMNA_TABLA 
ON NOMBRE_TABLA
FOR EACH ROW
DECLARE 
	V_ TIPO_DATO;
BEGIN 

END;


PROBAR TRIGGER 
CREATE OR REPLACE TRIGGER T_evitar__perder_bulls
BEFORE
INSERT OR UPDATE OF EQUIPO_LOCAL OR UPDATE OF EQUIPO_VISITANTE
OR UPDATE OF PUNTOS_LOCAL OR UPDATE OF PUNTOS_VISITANTE
ON PARTIDOS
FOR EACH ROW
BEGIN 
    IF :NEW.PUNTOS_LOCAL < :NEW.PUNTOS_VISITANTE AND 
    UPPER(:NEW.EQUIPO_LOCAL) = 'BULLS' THEN
        RAISE_APPLICATION_ERROR(-20600, 'LOS BULLS NO PUEDEN TENER
        MENOS PUNTOS QUE EL EQUIPO CONTRARIO');
    END IF;
    
    IF :NEW.PUNTOS_VISITANTE < :NEW.PUNTOS_LOCAL AND 
        UPPER(:NEW.EQUIPO_LOCAL) = 'BULLS' THEN
        RAISE_APPLICATION_ERROR(-20600, 'LOS BULLS NO PUEDEN TENER
        MENOS PUNTOS QUE EL EQUIPO CONTRARIO');
    END IF;
END;

INSERT INTO PARTIDOS (EQUIPO_LOCAL, EQUIPO_VISITANTE, PUNTOS_LOCAL, PUNTOS_VISITANTE)
VALUES ('BULLS', 'EQUIPO X', 80, 90);
